# 使用文档说明

*算是先补一部分,补的部分表示的是之后不会再逻辑上或者别的一些相关的地方再进行大改.若问为啥,懒*

## 首先是整体逻辑部分

整体的逻辑使用的是component +  container的形式.

LMAP的主要思想为:使用D3.js 在leaflet支持的地图转换过程,和底图加载手段之上,绘制出对应的各项结果.因为d3.js中不包含层的概念,但层的情况还是非常实用的,因此使用的是模拟的图层进行各层之间的绘制.

Lmap接受的各项参数中主要用来控制所绘制元素的就是mapdata,其中每个项都应当满足其格式,每个层中可以包含marker, line , 网格,heatmap其中的其中一种或者几种,注意mapdata的排列顺序即为这些图层的叠放顺序,分别对应其从底到最高层.

对于一些展示部分的逻辑,大体上是没有什么特别的很难的地方,毕竟其中大部分都只是简单的跳转逻辑之类的.visible bar之类的控制部件可以多补全,每个图层都绘制在一个对应的svg元素之中,因此可以很便捷的使用id来进行控制,如果有些地方不是很好进行处理,那么可以通过基础的JavaScript元素控制来进行实行.

现在下一步要处理的东西啊,一个是detail部分,这部分因为还没有完成其中的一些问题,所以暂时不是很能继续下去,所以下一步要做的主要是这几个部分:

1\首先是图表的问题,使用D3来进行的各项图表绘制问题,主要是几个比较基础常用的图,一个是pxel图,之后是箱式图,条形图,折线图,饼图,圆环图,这些图分别进行整体绘制方法的完善,之后需要处理其对应的各项样式的问题.

2\后端部分,后端部分有些数据处理和轨迹检索的逻辑还没有进行思考,另外就是数据逻辑的部分.

3\符号化的问题,这周完成的都是一些核心的连锁功能,用来进行整体的逻辑处理和各项内容,目前系统的整体逻辑的拓展性挺高的,如果以后还有人来进行这部分的工作的话,应该是挺有用的.